(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{4477:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customers",function(){return n(1500)}])},5294:function(e,s,n){"use strict";n.d(s,{Z:function(){return g}});var t=n(5893),i=n(7357),l=n(2293),a=n(155),r=n(6886),c=n(5861),o=n(1664),d=n.n(o);function h(){return(0,t.jsx)(i.Z,{sx:{flexGrow:1},children:(0,t.jsx)(l.Z,{position:"static",component:"div",children:(0,t.jsx)(a.Z,{children:(0,t.jsxs)(r.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(r.ZP,{item:!0,xs:12,md:4,children:(0,t.jsx)(c.Z,{variant:"h6",color:"inherit",component:"div",children:"Empulse - Assignment"})}),(0,t.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,t.jsx)(i.Z,{sx:{flexGrow:1,display:{xs:"flex"}},justifyContent:{md:"flex-end",sm:"flex-start"},children:[{title:"Home",link:"/"},{title:"Order",link:"/orders"},{title:"Customer",link:"/customers"}].map(e=>(0,t.jsx)(c.Z,{color:"inherit",children:(0,t.jsx)(d(),{href:e.link,style:{textDecoration:"none",color:"#fff",padding:"4px",margin:"8px",textTransform:"uppercase",fontFamily:"inherit"},children:e.title})},e.title))})})]})})})})}var m=n(9008),x=n.n(m),u=n(2115),p=n(4866),f=n(6901);function j(){let e={type:"info",message:"flash message 123",isOpen:!1},s=(0,u.V)(e=>e.flashMessage),n=(0,u.V)(e=>e.showFlashMessage);return(0,t.jsx)(t.Fragment,{children:s.isOpen?(0,t.jsx)(p.Z,{open:s.isOpen,message:s.message,autoHideDuration:6e3,onClose:()=>{n(e)},children:(0,t.jsx)(f.Z,{severity:s.type,fullWidth:!0,children:s.message})}):(0,t.jsx)(t.Fragment,{})})}function g(e){let{children:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x(),{children:[(0,t.jsx)("title",{children:"Empulse - Assignment"}),(0,t.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(h,{}),(0,t.jsxs)("main",{style:{padding:"16px"},children:[(0,t.jsx)(j,{}),s]})]})}},1500:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return Z}});var t=n(5893),i=n(5294),l=n(5029),a=n(7357),r=n(3321),c=n(5861),o=n(7294),d=n(657),h=n(7645),m=n(6580),x=n(6886),u=n(1903),p=n(1425);function f(){let[e,s]=(0,o.useState)(!1),[n,i]=(0,o.useState)({name:"",email:""}),[l,a]=(0,o.useState)(""),[c,f]=(0,o.useState)(""),j=()=>{s(!0)},g=()=>{s(!1),a(""),f("")},Z=()=>{fetch("http://localhost:8080/api/v1/customers",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:l,email:c})}).then(e=>{}).catch(e=>{console.log(e)})};return(0,t.jsxs)("div",{children:[(0,t.jsx)(r.Z,{variant:"outlined",onClick:j,children:"Open Dialog"}),(0,t.jsxs)(d.Z,{open:e,onClose:g,"aria-labelledby":"alert-dialog-title",children:[(0,t.jsx)(h.Z,{id:"alert-dialog-title",children:"New Customer"}),(0,t.jsx)(m.Z,{children:(0,t.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(u.Z,{label:"Name",variant:"filled",fullWidth:!0,value:l,onChange:e=>{a(e.target.value)}})}),(0,t.jsx)(x.ZP,{item:!0,xs:12,children:(0,t.jsx)(u.Z,{label:"Email",variant:"filled",fullWidth:!0,value:c,onChange:e=>{f(e.target.value)}})})]})}),(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(r.Z,{onClick:g,children:"CANCEL"}),(0,t.jsx)(r.Z,{onClick:Z,autoFocus:!0,children:"OK"})]})]})]})}var j=n(2115);let g=()=>{let[e,s]=(0,o.useState)([]),n=()=>{fetch("http://localhost:8080/api/v1/customers").then(e=>e.json()).then(e=>s(e)).catch(()=>{d({type:"danger",message:"Get customers failed",isOpen:!0})})},d=(0,j.V)(e=>e.showFlashMessage),h=e=>{let s=e.id;fetch("http://localhost:8080/api/v1/customers/".concat(s),{method:"DELETE"}).then(e=>{d({type:"success",message:"Customer Deleted Successfuly",isOpen:!0})}).catch(()=>{d({type:"danger",message:"Delete failed",isOpen:!0})}).finally(()=>{n()})};return(0,o.useEffect)(()=>{n()},[]),(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(c.Z,{variant:"h3",marginBottom:4,children:"Customers"}),(0,t.jsx)(f,{}),(0,t.jsx)(r.Z,{color:"secondary",variant:"contained",sx:{mb:"8px"},children:"Create"}),(0,t.jsx)("div",{style:{width:"100%"},children:(0,t.jsx)(l._,{rows:e,columns:[{field:"id",headerName:"ID",flex:1},{field:"name",headerName:"Name",flex:1},{field:"email",headerName:"Email",flex:1},{field:"action",headerName:"Actions",flex:1,renderCell:e=>{let{row:s}=e;return(0,t.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(r.Z,{color:"success",onClick:()=>{},variant:"contained",sx:{mr:"4px"},children:"Edit"}),(0,t.jsx)(r.Z,{color:"error",onClick:()=>{h(s)},variant:"contained",children:"Delete"})]})}}],pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0,autoHeight:!0})})]})};var Z=g},2115:function(e,s,n){"use strict";n.d(s,{V:function(){return i}});var t=n(4529);let i=(0,t.Ue)(e=>({flashMessage:{type:"info",message:"flash message 123",isOpen:!1},type:"info",message:"flash message 123",isOpen:!1,updateIsOpen:s=>e(()=>({isOpen:s})),showFlashMessage:s=>e(()=>({flashMessage:{isOpen:s.isOpen,message:s.message,type:s.type}}))}))}},function(e){e.O(0,[411,374,774,888,179],function(){return e(e.s=4477)}),_N_E=e.O()}]);